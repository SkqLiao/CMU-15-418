import matplotlib.pyplot as plt

tasks = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128]
bw = [39.893, 53.178, 71.712, 77.189, 90.562, 83.207, 81.297, 80.749, 84.728, 81.461, 86.249, 79.824, 79.963, 78.058, 79.478, 80.558, 80.81, 84.484, 81.539, 85.197, 82.282, 84.101, 83.195, 85.081, 82.906, 86.087, 86.082, 86.293, 84.741, 87.168, 85.888, 87.95, 85.813, 86.512, 87.882, 86.937, 85.112, 87.436, 87.927, 86.199, 87.194, 86.786, 86.398, 87.283, 87.433, 87.677, 85.54, 87.649, 85.332, 86.922, 86.547, 87.092, 85.503, 87.525, 87.24, 87.581, 85.53, 86.336, 84.955, 86.555, 87.655, 89.048, 88.494, 87.953, 87.652, 88.021, 87.287, 88.452, 85.865, 87.95, 83.614, 85.412, 86.998, 87.358, 86.382, 84.515, 87.225, 87.621, 86.873, 86.16, 85.048, 88.383, 85.792, 87.526, 85.875, 87.256, 86.73, 86.074, 85.856, 88.569, 86.812, 86.158, 86.768, 87.019, 87.712, 88.159, 86.677, 85.977, 86.677, 87.615, 84.406, 88.343, 87.073, 87.031, 85.472, 86.492, 85.787, 86.5, 85.832, 87.161, 86.866, 86.618, 85.289, 88.367, 85.946, 86.697, 86.337, 86.257, 86.317, 86.522, 84.754, 86.758, 85.456, 86.975, 85.034, 86.807, 84.641, 89.1]
speedup = [0.987, 1.419, 1.707, 1.988, 2.201, 2.132, 2.038, 2.089, 2.037, 2.108, 2.077, 2.274, 2.305, 2.182, 2.462, 1.995, 2.201, 2.07, 2.395, 2.219, 2.338, 2.132, 2.123, 2.228, 2.423, 2.333, 2.473, 2.127, 2.241, 2.056, 2.437, 2.156, 2.233, 2.078, 2.192, 2.147, 2.272, 2.055, 2.179, 2.049, 2.252, 2.078, 2.189, 2.262, 2.262, 2.104, 2.18, 2.103, 2.277, 2.119, 2.229, 2.099, 2.167, 2.128, 2.225, 2.183, 2.139, 2.158, 2.18, 2.094, 2.221, 2.145, 2.218, 2.161, 2.312, 2.101, 2.182, 2.09, 2.256, 2.137, 2.457, 2.189, 2.362, 2.173, 2.392, 2.485, 2.307, 2.176, 2.392, 2.125, 2.201, 2.132, 2.279, 2.119, 2.488, 2.162, 2.238, 2.188, 2.203, 2.169, 2.351, 2.212, 2.249, 2.174, 2.282, 2.094, 2.249, 2.119, 2.445, 2.098, 2.141, 2.223, 2.333, 2.1, 2.182, 2.087, 2.295, 2.15, 2.261, 2.276, 2.361, 2.131, 2.457, 2.252, 2.286, 2.087, 2.231, 2.083, 2.361, 2.333, 2.297, 2.252, 2.331, 2.167, 2.292, 2.367, 2.348, 2.168]

fig, ax1 = plt.subplots()
# size
fig.set_size_inches(14, 8)

# 绘制第一个折线图
ax1.set_xlabel('Tasks', fontsize=15)
ax1.set_ylabel('Bandwidth', color='tab:blue', fontsize=15)
ax1.plot(tasks, bw, color='tab:blue')
ax1.tick_params(axis='y', labelcolor='tab:blue', size=15)

# 使用相同的x轴创建另一个y轴
ax2 = ax1.twinx()  
ax2.set_ylabel('Speedup', color='tab:red', fontsize=15)
ax2.plot(tasks, speedup, color='tab:red')
ax2.tick_params(axis='y', labelcolor='tab:red', size=15)

# 显示图表
plt.title("Bandwidth and Speedup vs Tasks", fontsize=20)
plt.show()